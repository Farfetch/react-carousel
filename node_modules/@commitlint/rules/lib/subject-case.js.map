{"version":3,"sources":["../src/subject-case.js"],"names":["ensure","negated","when","parsed","value","subject","match","checks","Array","isArray","map","check","case","result","some","r","list","c","join"],"mappings":";;;;;;AAAA;;IAAYA,M;;AACZ;;;;;;;;AAEA,MAAMC,UAAUC,QAAQA,SAAS,OAAjC;;kBAEe,CAACC,MAAD,EAASD,IAAT,EAAeE,KAAf,KAAyB;AAAA,OAChCC,OADgC,GACrBF,MADqB,CAChCE,OADgC;;;AAGvC,KAAI,OAAOA,OAAP,KAAmB,QAAnB,IAA+B,CAACA,QAAQC,KAAR,CAAc,SAAd,CAApC,EAA8D;AAC7D,SAAO,CAAC,IAAD,CAAP;AACA;;AAED,OAAMC,SAAS,CAACC,MAAMC,OAAN,CAAcL,KAAd,IAAuBA,KAAvB,GAA+B,CAACA,KAAD,CAAhC,EAAyCM,GAAzC,CAA6CC,SAAS;AACpE,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC9B,UAAO;AACNT,UAAM,QADA;AAENU,UAAMD;AAFA,IAAP;AAIA;AACD,SAAOA,KAAP;AACA,EARc,CAAf;;AAUA,OAAME,SAASN,OAAOO,IAAP,CAAYH,SAAS;AACnC,QAAMI,IAAIf,OAAOY,IAAP,CAAYP,OAAZ,EAAqBM,MAAMC,IAA3B,CAAV;AACA,SAAOX,QAAQU,MAAMT,IAAd,IAAsB,CAACa,CAAvB,GAA2BA,CAAlC;AACA,EAHc,CAAf;;AAKA,OAAMC,OAAOT,OAAOG,GAAP,CAAWO,KAAKA,EAAEL,IAAlB,EAAwBM,IAAxB,CAA6B,IAA7B,CAAb;;AAEA,QAAO,CACNjB,QAAQC,IAAR,IAAgB,CAACW,MAAjB,GAA0BA,MADpB,EAEN,uBAAQ,CAAE,cAAF,EAAiBZ,QAAQC,IAAR,IAAiB,KAAjB,GAAwB,IAAzC,EAAgD,MAAKc,IAAK,EAA1D,CAAR,CAFM,CAAP;AAIA,C","file":"subject-case.js","sourcesContent":["import * as ensure from '@commitlint/ensure';\nimport message from '@commitlint/message';\n\nconst negated = when => when === 'never';\n\nexport default (parsed, when, value) => {\n\tconst {subject} = parsed;\n\n\tif (typeof subject !== 'string' || !subject.match(/^[a-z]/i)) {\n\t\treturn [true];\n\t}\n\n\tconst checks = (Array.isArray(value) ? value : [value]).map(check => {\n\t\tif (typeof check === 'string') {\n\t\t\treturn {\n\t\t\t\twhen: 'always',\n\t\t\t\tcase: check\n\t\t\t};\n\t\t}\n\t\treturn check;\n\t});\n\n\tconst result = checks.some(check => {\n\t\tconst r = ensure.case(subject, check.case);\n\t\treturn negated(check.when) ? !r : r;\n\t});\n\n\tconst list = checks.map(c => c.case).join(', ');\n\n\treturn [\n\t\tnegated(when) ? !result : result,\n\t\tmessage([`subject must`, negated(when) ? `not` : null, `be ${list}`])\n\t];\n};\n"]}
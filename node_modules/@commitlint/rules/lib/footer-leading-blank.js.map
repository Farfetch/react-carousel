{"version":3,"sources":["../src/footer-leading-blank.js"],"names":["parsed","when","footer","negated","rawLines","raw","bodyLines","body","bodyOffset","length","indexOf","slice","leading","succeeds"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;;;kBAEe,CAACA,MAAD,EAASC,IAAT,KAAkB;AAChC;AACA,KAAI,CAACD,OAAOE,MAAZ,EAAoB;AACnB,SAAO,CAAC,IAAD,CAAP;AACA;;AAED,OAAMC,UAAUF,SAAS,OAAzB;AACA,OAAMG,WAAW,uBAAQJ,OAAOK,GAAf,CAAjB;AACA,OAAMC,YAAY,uBAAQN,OAAOO,IAAf,CAAlB;AACA,OAAMC,aAAaF,UAAUG,MAAV,GAAmB,CAAnB,GAAuBL,SAASM,OAAT,CAAiBJ,UAAU,CAAV,CAAjB,CAAvB,GAAwD,CAA3E;;AATgC,uBAUdF,SAASO,KAAT,CAAeL,UAAUG,MAAV,GAAmBD,UAAlC,CAVc;AAAA;;AAAA,OAUzBI,OAVyB;;AAYhC;;AACA,OAAMC,WAAWD,YAAY,EAA7B;;AAEA,QAAO,CACNT,UAAU,CAACU,QAAX,GAAsBA,QADhB,EAEN,uBAAQ,CAAC,QAAD,EAAWV,UAAU,SAAV,GAAsB,MAAjC,EAAyC,yBAAzC,CAAR,CAFM,CAAP;AAIA,C","file":"footer-leading-blank.js","sourcesContent":["import toLines from '@commitlint/to-lines';\nimport message from '@commitlint/message';\n\nexport default (parsed, when) => {\n\t// Flunk if no footer is found\n\tif (!parsed.footer) {\n\t\treturn [true];\n\t}\n\n\tconst negated = when === 'never';\n\tconst rawLines = toLines(parsed.raw);\n\tconst bodyLines = toLines(parsed.body);\n\tconst bodyOffset = bodyLines.length > 0 ? rawLines.indexOf(bodyLines[0]) : 1;\n\tconst [leading] = rawLines.slice(bodyLines.length + bodyOffset);\n\n\t// Check if the first line of footer is empty\n\tconst succeeds = leading === '';\n\n\treturn [\n\t\tnegated ? !succeeds : succeeds,\n\t\tmessage(['footer', negated ? 'may not' : 'must', 'have leading blank line'])\n\t];\n};\n"]}